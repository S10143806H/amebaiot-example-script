<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class HttpClient &mdash; 123 123 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Class HttpClient" href="Class%20IRDevice.html" />
    <link rel="prev" title="Class GTimer" href="Class%20GTimerClass.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> 123
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Open Source SDKs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../getting_started/ambd_getting_started.html">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_history/Release_History.html">Release History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples_and_components/index.html">Examples &amp; Components</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">API Documents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#analog">Analog</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#audiocodec">AudioCodec</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#ble">BLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#epdif">EPDIF</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#fatfssdcard">FatfsSDCard</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#flashmemory">FlashMemory</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#gpio">GPIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#gtimer">GTimer</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#http">Http</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#irdevice">IRDevice</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#mdns">MDNS</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#mqttclient">MQTTClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#ntpclient">NTPClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#powersave">PowerSave</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#rtc">RTC</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#softwareserial">SoftwareSerial</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#spi">SPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#sys">Sys</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#usb">USB</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#wdt">WDT</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#wifi">WiFi</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#wire">Wire</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#ws2812b">WS2812B</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../support/index.html">Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../AMB23/index.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../BW16_/index.html">BW16 (RTL8720DN)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/micropython_index.html">MicroPython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Download</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../download/AMB21_download.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../download/AMB23_download.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../download/BW16_download.html">BW16 (RTL8720DN)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">123</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../arduino_index.html">Arduino SDK</a> &raquo;</li>
          <li><a href="../index.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a> &raquo;</li>
          <li><a href="index.html">API Documents</a> &raquo;</li>
      <li>Class HttpClient</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/ambd_arduino/AMB21/api_documents/Class HttpClient.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-httpclient">
<h1>Class HttpClient<a class="headerlink" href="#class-httpclient" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="HttpClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HttpClient</span></span><a class="headerlink" href="#HttpClient" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Defines a class of using HttpClient</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HttpClient</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 49%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Public Constructors</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HttpClient::HttpClient</p></td>
<td><p>Constructs a HttpClient object</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Public Methods</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>HttpClient::beginRequest</p></td>
<td><p>Start a more complex request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::endRequest</p></td>
<td><p>End a more complex request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::get</p></td>
<td><p>Connect to the server and start
to send a GET request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::post</p></td>
<td><p>Connect to the server and start
to send a POST request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::put</p></td>
<td><p>Connect to the server and start
to send a PUT request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::startRequest</p></td>
<td><p>Connect to the server and start
to send the request</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::sendHeader</p></td>
<td><p>Send an additional header line</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::sendBasicAuth</p></td>
<td><p>Send a basic authentication
header</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::finishRequest</p></td>
<td><p>Finish sending the HTTP request</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::responseStatusCode</p></td>
<td><p>Get the HTTP status code
contained in the response</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::readHeader</p></td>
<td><p>Read the next character of the
response headers</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::skipResponseHeaders</p></td>
<td><p>Skip any response headers to get
to the body</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::endOfHeadersReached</p></td>
<td><p>Test whether all of the response
headers have been consumed</p></td>
</tr>
<tr class="row-odd"><td><p>HttpClient::endOfBodyReached</p></td>
<td><p>Test whether the end of the body
has been reached</p></td>
</tr>
<tr class="row-even"><td><p>HttpClient::contentLength</p></td>
<td><p>Return the length of the body</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::HttpClient</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Constructs a HttpClient object. If Marco “PROXY_ENABLED” is defined,currently disabled as introduces a dependency on DNS.h in Ethernet.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">HttpClient</span><span class="o">::</span><span class="n">HttpClient</span><span class="p">(</span><span class="n">Client</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aClient</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aProxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aProxyPort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">HttpClient</span><span class="o">::</span><span class="n">HttpClient</span><span class="p">(</span><span class="n">Client</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aClient</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aClient</span></code>: The object of class WiFiClient.</p>
<p><code class="docutils literal notranslate"><span class="pre">aProxy</span></code>: The proxy name. The default proxy name is “NULL”.</p>
<p><code class="docutils literal notranslate"><span class="pre">aProxyPort</span></code> : The proxy port. The default value for the proxy port is 0.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>The example demonstrate how to download the content from URL indicated in kHostname[].</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">SimpleHttpExample</span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;HttpClient.h&quot;</span><span class="cp"></span>
<span class="linenos">  2</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;WiFi.h&quot;</span><span class="cp"></span>
<span class="linenos">  3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;WiFiClient.h&quot;</span><span class="cp"></span>
<span class="linenos">  4</span><span class="kt">char</span><span class="w"> </span><span class="n">ssid</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;YourNetwork&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">//  your network SSID (name)</span>
<span class="linenos">  5</span><span class="kt">char</span><span class="w"> </span><span class="n">pass</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;password&quot;</span><span class="p">;</span><span class="w">    </span><span class="c1">// your network password (use for WPA, or use as key for WEP)</span>
<span class="linenos">  6</span><span class="kt">int</span><span class="w"> </span><span class="n">keyIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">            </span><span class="c1">// your network key Index number (needed only for WEP)</span>
<span class="linenos">  7</span><span class="c1">//Name of the server we want to connect to</span>
<span class="linenos">  8</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">kHostname</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;www.google.com&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">  9</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">kPath</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 10</span><span class="c1">//Number of milliseconds to wait without receiving any data before we give up</span>
<span class="linenos"> 11</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">kNetworkTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="o">*</span><span class="mi">1000</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 12</span><span class="c1">//Number of milliseconds to wait if no data is available before trying again</span>
<span class="linenos"> 13</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">kNetworkDelay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 14</span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WL_IDLE_STATUS</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 15</span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 18</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">WL_CONNECTED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 19</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Attempting to connect to SSID: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ssid</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WiFi</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span><span class="w"> </span><span class="n">pass</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// wait 10 seconds for connection:</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">10000</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 24</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 25</span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected to wifi&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 26</span><span class="n">printWifiStatus</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="kt">void</span><span class="w"> </span><span class="n">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="kt">int</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 31</span><span class="n">WiFiClient</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 32</span><span class="n">HttpClient</span><span class="w"> </span><span class="n">http</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 33</span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">kHostname</span><span class="p">,</span><span class="w"> </span><span class="n">kPath</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 34</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 35</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;startedRequest ok&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">responseStatusCode</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 38</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 39</span><span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 40</span><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Got status code: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 41</span><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 42</span><span class="w">    </span><span class="c1">// Usually you&#39;d check that the response code is 200 or a</span>
<span class="linenos"> 43</span><span class="w">    </span><span class="c1">// similar &quot;success&quot; code (200-299) before carrying on,</span>
<span class="linenos"> 44</span><span class="w">    </span><span class="c1">// but we&#39;ll print out whatever response we get</span>
<span class="linenos"> 45</span><span class="w">    </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">skipResponseHeaders</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 46</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 47</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 48</span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">bodyLen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">contentLength</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 49</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Content length is: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 50</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">bodyLen</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 51</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 52</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Body returned follows:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="w">      </span><span class="c1">// Now we&#39;ve got to the body, so we can print it out</span>
<span class="linenos"> 55</span><span class="w">      </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">timeoutStart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 56</span><span class="w">      </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 57</span><span class="w">      </span><span class="c1">// Whilst we haven&#39;t timed out &amp; haven&#39;t reached the end of the body</span>
<span class="linenos"> 58</span><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">http</span><span class="p">.</span><span class="n">connected</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"></span>
<span class="linenos"> 59</span><span class="w">             </span><span class="p">((</span><span class="n">millis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">timeoutStart</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">kNetworkTimeout</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">http</span><span class="p">.</span><span class="n">available</span><span class="p">())</span><span class="w"></span>
<span class="linenos"> 62</span><span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 63</span><span class="w">              </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">read</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 64</span><span class="w">              </span><span class="c1">// Print out this character</span>
<span class="linenos"> 65</span><span class="w">              </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="w">              </span><span class="n">bodyLen</span><span class="o">--</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">              </span><span class="c1">// We read something, reset the timeout counter</span>
<span class="linenos"> 69</span><span class="w">              </span><span class="n">timeoutStart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">          </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 72</span><span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 73</span><span class="w">              </span><span class="c1">// We haven&#39;t got any data, so let&#39;s pause to allow some to arrive</span>
<span class="linenos"> 74</span><span class="w">              </span><span class="n">delay</span><span class="p">(</span><span class="n">kNetworkDelay</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 76</span><span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 77</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 79</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 80</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Failed to skip response headers: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 84</span><span class="w">  </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 85</span><span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 86</span><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Getting response failed: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 87</span><span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 88</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 89</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 90</span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 91</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Connect failed: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 93</span><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">err</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 94</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 95</span><span class="w">    </span><span class="n">http</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">    </span><span class="c1">// And just stop, now that we&#39;ve tried a download</span>
<span class="linenos"> 97</span><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 98</span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 99</span><span class="kt">void</span><span class="w"> </span><span class="n">printWifiStatus</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">100</span><span class="w">  </span><span class="c1">// print the SSID of the network you&#39;re attached to:</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;SSID: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">102</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">SSID</span><span class="p">());</span><span class="w"></span>
<span class="linenos">103</span><span class="w">  </span><span class="c1">// print your WiFi shield&#39;s IP address:</span>
<span class="linenos">104</span><span class="w">  </span><span class="n">IPAddress</span><span class="w"> </span><span class="n">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WiFi</span><span class="p">.</span><span class="n">localIP</span><span class="p">();</span><span class="w"></span>
<span class="linenos">105</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;IP Address: &quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">106</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ip</span><span class="p">);</span><span class="w"></span>
<span class="linenos">107</span><span class="w">  </span><span class="c1">// print the received signal strength:</span>
<span class="linenos">108</span><span class="w">  </span><span class="kt">long</span><span class="w"> </span><span class="n">rssi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WiFi</span><span class="p">.</span><span class="n">RSSI</span><span class="p">();</span><span class="w"></span>
<span class="linenos">109</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;signal strength (RSSI):&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">110</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">rssi</span><span class="p">);</span><span class="w"></span>
<span class="linenos">111</span><span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot; dBm&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">112</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::beginRequest</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Start a more complex request. Use this when you need to send additional headers in the request, but you will also need to call
endRequest() when you are finished.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::beginRequest</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::endRequest</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>End a more complex request. Use this when you need to have sent additional headers in the request, but you will also need to call
beginRequest() at the start.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::endRequest</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::get</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Connect to the server and start to send a <code class="docutils literal notranslate"><span class="pre">GET</span></code> request. If the input
parameter contains <code class="docutils literal notranslate"><span class="pre">aServerAddress</span></code>, the connection will not perform a
DNS lookup and just purely connect to the given IP address.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::get</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::get</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::get</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::get</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aServerName</span></code>: The name of the server being connected to. If aServerName
is “NULL”, the “Host” header line will not be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerPort</span></code>: The port on which server connected.</p>
<p><code class="docutils literal notranslate"><span class="pre">aURLPath</span></code>: The URL to request.</p>
<p><code class="docutils literal notranslate"><span class="pre">aUserAgent</span></code>: User-Agent string to be sent. If aUserAgent indicated as
“NULL”, the default user-agent kUserAgent will be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerAddress</span></code>: IP address of the server to connect to.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, otherwise indicates an error occurs.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::post</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Connect to the server and start to send a “POST” request. If the input</p>
<p>parameter has “aServerAddress”, connects doesn’t perform a DNS lookup</p>
<p>and just connects to the given IP address.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::post</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::post</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::post</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::post</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aServerName</span></code> : Name of the server being connected to. If NULL, the <code class="docutils literal notranslate"><span class="pre">Host</span></code> header line won’t be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerPort</span></code> : Port to connect to on the server.</p>
<p><code class="docutils literal notranslate"><span class="pre">aURLPath</span></code> : Url to request.</p>
<p><code class="docutils literal notranslate"><span class="pre">aUserAgent</span></code> : User-Agent string to be sent. If aUserAgent indicated as <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, the default user-agent kUserAgent will be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerAddress</span></code> : IP address of the server to connect to.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, otherwise indicates an error occurs.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::put</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Connect to the server and start to send a PUT request. If the input
parameter has “aServerAddress”, connects doesn’t perform a DNS lookup
and just connects to the given IP address.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::put</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="n">cha</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::put</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::put</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::put</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aServerName</span></code>: Name of the server being connected to. If NULL, the <code class="docutils literal notranslate"><span class="pre">Host</span></code> header line won’t be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerPort</span></code>: Port to connect to on the server.</p>
<p><code class="docutils literal notranslate"><span class="pre">aURLPath</span></code>: Url to request.</p>
<p><code class="docutils literal notranslate"><span class="pre">aUserAgent</span></code>: User-Agent string to be sent. If aUserAgent indicated as “NULL”, the default user-agent kUserAgent will be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerAddress</span></code> : IP address of the server to connect to.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, otherwise indicates an error occurs.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::startRequest</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Connect to the server and start to send the request.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::startRequest</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHttpMethod</span><span class="p">,</span><span class="w"> </span><span class="n">constchar</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::startRequest</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">IPAddress</span><span class="o">&amp;</span><span class="w"> </span><span class="n">aServerAddress</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aServerName</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">aServerPort</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aURLPath</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w">  </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHttpMethod</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUserAgent</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aServerAddress</span></code>: IP address of the server to connect to.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerName</span></code>: Name of the server being connected to. If NULL, the <code class="docutils literal notranslate"><span class="pre">Host</span></code> header line won’t be sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aServerPort</span></code>: Port to connect to on the server.</p>
<p><code class="docutils literal notranslate"><span class="pre">aURLPath</span></code>: Url to request.</p>
<p><code class="docutils literal notranslate"><span class="pre">aHttpMethod</span></code>: Type of HTTP request to make, e.g. “GET”, “POST”, etc.</p>
<p><code class="docutils literal notranslate"><span class="pre">aUserAgent</span></code>: User-Agent string to send. If NULL the default user-agent kUserAgent will be sent.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, else error.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::sendHeader</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>The function sends an additional header line.The function void HttpClient:: sendHeader(const char* aHeader);can
only be called in between the calls to startRequest and finishRequest.The other 2 functions void HttpClient::sendHeader(const char*
aHeaderName, const char* aHeaderValue); and void
HttpClient::sendHeader(const char* aHeaderName, const int aHeaderValue); are alternate form the previous one, which takes the
header name and content as separately (as strings or integer). For example, to send an XXXXXX header, user might call sendHeader(“XXXXX”,
“Something”) or sendHeader(“XXXXX”, 123).And the call will add the “:
” in the log to separate different header in the case of multiple headers.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::sendHeader</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHeader</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::sendHeader</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHeaderName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHeaderValue</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::sendHeader</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aHeaderName</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">aHeaderValue</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aHeader</span></code> : Header line to send, in its entirety (but without the trailing CRLF. E.g. “Authorization: Basic YQDDCAIGES”.</p>
<p><code class="docutils literal notranslate"><span class="pre">aHeaderName</span></code> : Type of header being sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">aHeaderValue</span></code> : Value for that header.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URLindicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::sendBasicAuth</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>The function sends a basic authentication header which will encode the
given username and password, and send them in a suitable header line
for doing Basic Authentication.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::sendBasicAuth</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aUser</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">aPassword</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">aUser</span></code>: Username for the authorization.</p>
<p><code class="docutils literal notranslate"><span class="pre">aPassword</span></code> : Password for the user aUser.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::finishRequest</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Finish sending the HTTP request. The function sends a blank line to signify the end of the request.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">HttpClient::finishRequest</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>The function returns nothing.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::responseStatusCode</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Get the HTTP status code contained in the response. For example, “200”
for successful requests, “404” for file not found, etc.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::responseStatusCode</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, else error.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::readHeader</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>The function reads the next character of the response headers. This
functions the same as read() but to be used when reading through the
headers which are slightly less efficient. The user might check
whether the end of the headers has been reached by calling
endOfHeadersReached(), although after that point this will still
return data as read() would.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::readHeader</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return the next character of the response headers.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::skipResponseHeaders</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Skip any response headers to get to the body. Use this if you don’t
want to do any special processing of the headers returned in the
response. You can also use it after you’ve found all of the headers
you’re interested in, and just want to get on with processing the
body.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::skipResponseHeaders</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return 0 if successful, else error.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::endOfHeadersReached</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Test whether all of the response headers have been consumed.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">HttpClient::endOfHeadersReached</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return true if we are now processing the response body, else false.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::endOfBodyReached</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>Test whether the end of the body has been reached. It only works if
the Content-Length header was returned by the server.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">HttpClient::endOfBodyReached</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return true if we are now at the end of the body, else false.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of <code class="docutils literal notranslate"><span class="pre">HttpClient::</span> <span class="pre">HttpClient</span></code>.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">HttpClient::contentLength</span></span></dt>
<dd></dd></dl>

<p><strong>Description</strong></p>
<p>The function returns the length of the body.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">HttpClient::contentLength</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<p>The function requires no input parameter.</p>
<p><strong>Returns</strong></p>
<p>Return Length of the body, in bytes, or kNoContentLengthHeader if no Content-Length header was returned by the server.</p>
<p><strong>Example Code</strong></p>
<p>Example: SimpleHttpExample</p>
<p>The example demonstrates how to download the content from the URL
indicated in kHostname[]. Details of the code can be found in the
previous section of HttpClient:: HttpClient.</p>
<p><strong>Notes and Warnings</strong></p>
<p>Include “HttpClient.h” to use the class function.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Class%20GTimerClass.html" class="btn btn-neutral float-left" title="Class GTimer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Class%20IRDevice.html" class="btn btn-neutral float-right" title="Class HttpClient" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 123.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>