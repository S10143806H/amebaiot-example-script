<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WiFi - Set up UDP Server to Communicate &mdash; 123 123 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="WiFi - Set up WiFi AP Mode" href="WiFi%20-%20Set%20up%20WiFi%20AP%20Mode.html" />
    <link rel="prev" title="WiFi - Set up Client to Retrieve Google Search Informations" href="WiFi%20-%20Set%20up%20Client%20to%20Retrieve%20Google%20Search%20Information.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> 123
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Open Source SDKs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/ambd_getting_started.html">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../release_history/Release_History.html">Release History</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Examples &amp; Components</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../Basic%20Examples.html">Basic Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Network Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Peripheral%20Examples/index.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Community%20Examples/index.html">Community Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Components%20Used.html">Components Used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../support/index.html">Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../AMB23/index.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../BW16_/index.html">BW16 (RTL8720DN)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_micropython/micropython_index.html">MicroPython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Download</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/AMB21_download.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/AMB23_download.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/BW16_download.html">BW16 (RTL8720DN)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">123</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../arduino_index.html">Arduino SDK</a> &raquo;</li>
          <li><a href="../../index.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a> &raquo;</li>
          <li><a href="../index.html">Examples &amp; Components</a> &raquo;</li>
          <li><a href="index.html">Network Examples</a> &raquo;</li>
      <li>WiFi - Set up UDP Server to Communicate</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ambd_arduino/AMB21/examples_and_components/Network Examples/WiFi - Set up UDP Server to Communicate.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wifi-set-up-udp-server-to-communicate">
<h1>WiFi - Set up UDP Server to Communicate<a class="headerlink" href="#wifi-set-up-udp-server-to-communicate" title="Permalink to this heading"></a></h1>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Preparation</strong>
<span class="raw-html"></p></span></p>
<blockquote>
<div><ul class="simple">
<li><p>AmebaD [AMB21 / AMB22 / AMB23 / BW16] x 1</p></li>
</ul>
</div></blockquote>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Example</strong>
<span class="raw-html"></p></span></p>
<div class="line-block">
<div class="line">In this example, we connect Ameba to WiFi and use Ameba to be an UDP
server. When Ameba receives a message from UDP client, it replies
“acknowledged” message to client.</div>
</div>
<div class="line-block">
<div class="line">Open the WiFi Web Server example. <code class="docutils literal notranslate"><span class="pre">“File”</span> <span class="pre">-&gt;</span> <span class="pre">“Examples”</span> <span class="pre">-&gt;</span> <span class="pre">“WiFi”</span>
<span class="pre">-&gt;</span> <span class="pre">“WiFiUdpSendReceiveString”</span></code></div>
<div class="line"><a class="reference internal" href="../../../../_images/image137.png"><img alt="1" src="../../../../_images/image137.png" style="width: 628.5999999999999px; height: 672.6999999999999px;" /></a></div>
<div class="line">Modify the highlighted code section (ssid, password, keyindex) to
connect to your WiFi network.</div>
<div class="line"><a class="reference internal" href="../../../../_images/image234.png"><img alt="2" src="../../../../_images/image234.png" style="width: 572.8000000000001px; height: 693.6px;" /></a></div>
</div>
<p>Compile the code and upload it to Ameba. After pressing the Reset
button, Ameba connects to WiFi and starts the UDP server with port 2390.
After the UDP server starts service, Ameba prints the “Starting
connection to server” message and waits for client connection.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../../../../_images/image325.png"><img alt="3" src="../../../../_images/image325.png" style="width: 649.0px; height: 410.0px;" /></a></div>
<div class="line">As to the UDP client, we use “sokit” program in the computer to
connect to UDP server.</div>
</div>
<div class="line-block">
<div class="line">Choose client mode and fill in the IP of UDP server (which is the IP of
Ameba) and port 2390, then click “UDP Connect”.</div>
</div>
<div class="line-block">
<div class="line">After the connection is established, fill in “Hello World” in the Buf 0
field in sokit and click “Send”. Then you can see the Ameba UDP server
replies “acknowledged”.</div>
<div class="line"><a class="reference internal" href="../../../../_images/image419.png"><img alt="4" src="../../../../_images/image419.png" style="width: 804.0px; height: 575.0px;" /></a></div>
</div>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Code Reference</strong>
<span class="raw-html"></p></span></p>
<div class="line-block">
<div class="line">Refer to the Arduino tutorial for detailed information about this
example.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Tutorial/WiFiSendReceiveUDPString">https://www.arduino.cc/en/Tutorial/WiFiSendReceiveUDPString</a></div>
</div>
<div class="line-block">
<div class="line">First, use <code class="docutils literal notranslate"><span class="pre">begin()</span></code> to open an UDP port on Ameba.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPBegin">https://www.arduino.cc/en/Reference/WiFiUDPBegin</a></div>
</div>
<div class="line-block">
<div class="line">Use <code class="docutils literal notranslate"><span class="pre">parsePacket()</span></code> to wait for data from client.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPParsePacket">https://www.arduino.cc/en/Reference/WiFiUDPParsePacket</a></div>
</div>
<div class="line-block">
<div class="line">When a connection is established, use <code class="docutils literal notranslate"><span class="pre">remoteIP()</span></code> and <code class="docutils literal notranslate"><span class="pre">remotePort()</span></code> to
get the IP and port of the client.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPRemoteIP">https://www.arduino.cc/en/Reference/WiFiUDPRemoteIP</a></div>
</div>
<div class="line-block">
<div class="line">Then use <code class="docutils literal notranslate"><span class="pre">read()</span></code> to read the data sent by client.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPRead">https://www.arduino.cc/en/Reference/WiFiUDPRead</a></div>
</div>
<div class="line-block">
<div class="line">To send reply, use <code class="docutils literal notranslate"><span class="pre">beginPacket()</span></code>, <code class="docutils literal notranslate"><span class="pre">write()</span></code>, <code class="docutils literal notranslate"><span class="pre">end()</span></code>.</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPBeginPacket">https://www.arduino.cc/en/Reference/WiFiUDPBeginPacket</a></div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPWrite">https://www.arduino.cc/en/Reference/WiFiUDPWrite</a></div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/WiFiUDPEndPacket">https://www.arduino.cc/en/Reference/WiFiUDPEndPacket</a></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="WiFi%20-%20Set%20up%20Client%20to%20Retrieve%20Google%20Search%20Information.html" class="btn btn-neutral float-left" title="WiFi - Set up Client to Retrieve Google Search Informations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="WiFi%20-%20Set%20up%20WiFi%20AP%20Mode.html" class="btn btn-neutral float-right" title="WiFi - Set up WiFi AP Mode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 123.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>