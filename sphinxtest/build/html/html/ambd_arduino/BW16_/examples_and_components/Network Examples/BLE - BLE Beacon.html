<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BLE – BLE Beacon &mdash; 123 123 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="BLE – BLE Scan" href="BLE%20-%20BLE%20Scan.html" />
    <link rel="prev" title="BLE - BLE Battery Service" href="BLE%20-%20BLE%20Battery%20Service.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> 123
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Open Source SDKs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../AMB21/index.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../AMB23/index.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">BW16 (RTL8720DN)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/ambd_getting_started.html">Getting Started</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Examples &amp; Components</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../Basic%20Examples.html">Basic Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Network Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Peripheral%20Examples/index.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Community%20Examples/index.html">Community Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Components%20Used.html">Components Used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_micropython/micropython_index.html">MicroPython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Download</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/AMB21_download.html">AMB21/AMB22 (RTL8722DM/RTL8722CSM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/AMB23_download.html">AMB23 (RTL8722DM MINI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../download/BW16_download.html">BW16 (RTL8720DN)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">123</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../arduino_index.html">Arduino SDK</a> &raquo;</li>
          <li><a href="../../index.html">BW16 (RTL8720DN)</a> &raquo;</li>
          <li><a href="../index.html">Examples &amp; Components</a> &raquo;</li>
          <li><a href="index.html">Network Examples</a> &raquo;</li>
      <li>BLE – BLE Beacon</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/ambd_arduino/BW16_/examples_and_components/Network Examples/BLE - BLE Beacon.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ble-ble-beacon">
<h1>BLE – BLE Beacon<a class="headerlink" href="#ble-ble-beacon" title="Permalink to this heading"></a></h1>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Materials</strong>
<span class="raw-html"></p></span></p>
<blockquote>
<div><ul class="simple">
<li><p>AmebaD [AMB21 / AMB22 / AMB23 / BW16] x 1</p></li>
<li><p>Android / iOS mobile phone</p></li>
</ul>
</div></blockquote>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Example</strong>
<span class="raw-html"></p></span></p>
<p><strong>Introduction</strong></p>
<p>A BLE beacon broadcasts its identity to nearby Bluetooth devices, to
enable the other devices to determine their location relative to the
beacon, and to perform actions based on information broadcasted by the
beacon.</p>
<p>Example applications of beacons include indoor positioning system,
location-based advertising and more.</p>
<p>From the definition of its purpose as a broadcast device, a BLE beacon
thus cannot be connected to, and can only send information in its
Bluetooth advertisement packets.</p>
<p>There are several BLE beacon protocols. The Ameba BLEBeacon library
supports the iBeacon and AltBeacon protocols.</p>
<p><strong>Procedure</strong></p>
<div class="line-block">
<div class="line">First, you need to install some Bluetooth apps on your mobile phone.
These apps will show you the raw data sent by Ameba and allow you to
interact with the data.</div>
<div class="line">The recommended application is nRF connect, and is available at the
links below:</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Android</dt><dd><p>: <a class="reference external" href="https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp">https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp</a></p>
</dd>
</dl>
</li>
<li><p>iOS :<a class="reference external" href="https://apps.apple.com/us/app/nrf-connect/id1054362403">https://apps.apple.com/us/app/nrf-connect/id1054362403</a></p></li>
</ul>
<p>LightBlue is an alternative application that can also be used, but has
less features:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Android</dt><dd><p>: <a class="reference external" href="https://play.google.com/store/apps/details?id=com.punchthrough.lightblueexplorer">https://play.google.com/store/apps/details?id=com.punchthrough.lightblueexplorer</a></p>
</dd>
</dl>
</li>
<li><p>iOS :<a class="reference external" href="https://apps.apple.com/us/app/lightblue/id557428110">https://apps.apple.com/us/app/lightblue/id557428110</a></p></li>
</ul>
<p>Open the example, <code class="docutils literal notranslate"><span class="pre">“Files”</span> <span class="pre">-&gt;</span> <span class="pre">“Examples”</span> <span class="pre">-&gt;</span> <span class="pre">“AmebaBLE”</span> <span class="pre">-&gt;</span> <span class="pre">“BLEBeacon”</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image11.png"><img alt="1" src="../../../../_images/image11.png" style="width: 577.6px; height: 804.8000000000001px;" /></a></p>
</div></blockquote>
<p>Upload the code and press the reset button on Ameba once the upload is
finished.</p>
<p>On your mobile phone, open the Bluetooth app and scan for the beacon
signal broadcast by Ameba.</p>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image21.png"><img alt="2" src="../../../../_images/image21.png" style="width: 432.0px; height: 864.0px;" /></a></p>
</div></blockquote>
<p>If you happen to be in an environment with multiple BLE beacons, you can
tap the entries to expand them, and verify that the beacon data is
identical to the data in the sketch.</p>
<p><span class="raw-html"><p style="color:#E67E22; font-size:24px"></span>
<strong>Code Reference</strong>
<span class="raw-html"></p></span></p>
<p><code class="docutils literal notranslate"><span class="pre">setRssi()</span></code> is used to set the received signal strength indicator (rssi)
data field for a beacon. The specification states that this should be
the received signal strength from the beacon at a 1 meter distance. With
no method to measure this, it is set to -65dBm as an estimate.</p>
<p><code class="docutils literal notranslate"><span class="pre">setMajor()</span></code> and <code class="docutils literal notranslate"><span class="pre">setMinor()</span></code> are used to set the two data fields. The
purpose of these data are left for the manufacturer of the beacon to
define, and can be used in any way.</p>
<p><code class="docutils literal notranslate"><span class="pre">setUUID()</span></code> is used to give the beacon a universally unique identifier
(UUID). This is a 128-bit number usually expressed as a hexadecimal
string. It is used to identify each unique beacon, and can be randomly
generated for free online.</p>
<p>The BLEBeacon library includes both iBeacon and AltBeacon classes,
replace line 6 iBeacon with altBeacon to create an AltBeacon instead.
The data fields are mostly the same, with only minor changes, please
look at the header files for more details.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLE.init()</span></code> is used to allocate memory and prepare Ameba for starting the
Bluetooth stack.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLE.configAdvert()</span></code> is used to configure the Bluetooth advertisement
settings, to which we pass the beacon data and set the device as
non-connectable.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLE.beginPeripheral()</span></code> starts Ameba in Bluetooth peripheral mode, after
which it will begin to advertise with the beacon data provided.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="BLE%20-%20BLE%20Battery%20Service.html" class="btn btn-neutral float-left" title="BLE - BLE Battery Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="BLE%20-%20BLE%20Scan.html" class="btn btn-neutral float-right" title="BLE – BLE Scan" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 123.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>